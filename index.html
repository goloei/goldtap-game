<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rabbit Origin</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{background:#000;color:#fff;font-family:Inter;user-select:none}
.glass{background:rgba(255,255,255,.05);backdrop-filter:blur(10px);border-radius:20px}
.tap-fx{position:absolute;color:#facc15;font-weight:900;animation:fly .8s forwards}
@keyframes fly{to{opacity:0;transform:translateY(-120px)}}
</style>
</head>

<body class="p-4">

<h1 class="text-4xl font-black text-center mb-4" id="balance">0</h1>

<div class="flex justify-center my-6">
  <div id="tapBtn" class="w-56 h-56 rounded-full bg-yellow-400 flex items-center justify-center text-black text-7xl font-black">üê∞</div>
</div>

<div class="mb-4">
  ‚ö° Energy: <span id="energy"></span>/1000
  <div class="w-full bg-zinc-800 h-2 rounded">
    <div id="energyBar" class="bg-yellow-400 h-full"></div>
  </div>
</div>

<div class="glass p-4 mb-4">
  Profit / Hour: <span id="pph"></span>
</div>

<div class="glass p-4 mb-4">
  Rank: <span id="rank"></span>
</div>

<button onclick="buyCard()" class="w-full bg-yellow-400 text-black py-3 rounded-xl font-black">
Upgrade Rabbit GPU
</button>

<script>
Telegram.WebApp.ready();

let data = JSON.parse(localStorage.getItem("rabbitData")) || {
 balance:0,
 energy:1000,
 pph:0,
 gpuLevel:0,
 lastSeen:Date.now(),
 lastDaily:0
};

function save(){localStorage.setItem("rabbitData",JSON.stringify(data));}

function updateUI(){
 balance.innerText=Math.floor(data.balance).toLocaleString();
 energy.innerText=Math.floor(data.energy);
 energyBar.style.width=(data.energy/10)+"%";
 pph.innerText=data.pph;
 rank.innerText=getRank();
 save();
}

function getRank(){
 if(data.balance<10000)return"Bronze";
 if(data.balance<50000)return"Silver";
 if(data.balance<200000)return"Gold";
 return"Diamond";
}

/* OFFLINE INCOME */
let now=Date.now();
let diff=(now-data.lastSeen)/1000;
data.balance+=diff*(data.pph/3600);
data.energy=Math.min(1000,data.energy+diff*2);
data.lastSeen=now;

/* DAILY REWARD */
if(now-data.lastDaily>86400000){
 data.balance+=5000;
 data.lastDaily=now;
 alert("üéÅ Daily Reward +5000");
}

/* TAP */
tapBtn.onclick=e=>{
 if(data.energy<=0)return;
 data.energy--;
 data.balance++;
 let fx=document.createElement("div");
 fx.className="tap-fx";
 fx.innerText="+1";
 fx.style.left=e.clientX+"px";
 fx.style.top=e.clientY+"px";
 document.body.appendChild(fx);
 setTimeout(()=>fx.remove(),800);
 updateUI();
}

/* CARD UPGRADE */
function buyCard(){
 let cost=5000*(data.gpuLevel+1);
 if(data.balance<cost)return alert("Not enough coins");
 data.balance-=cost;
 data.gpuLevel++;
 data.pph+=500;
 updateUI();
}

setInterval(()=>{
 data.balance+=data.pph/3600;
 data.energy=Math.min(1000,data.energy+1);
 updateUI();
},1000);

updateUI();
</script>
</body>
</html>
